# Laptopshop

## ğŸ“‹ MÃ´ táº£ dá»± Ã¡n

**Laptopshop** lÃ  má»™t á»©ng dá»¥ng web thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ chuyÃªn bÃ¡n laptop, Ä‘Æ°á»£c xÃ¢y dá»±ng báº±ng Node.js, Express.js vÃ  TypeScript. á»¨ng dá»¥ng cung cáº¥p cÃ¡c chá»©c nÄƒng cáº§n thiáº¿t cho má»™t cá»­a hÃ ng trá»±c tuyáº¿n nhÆ° bao gá»“m quáº£n lÃ½ sáº£n pháº©m, giá» hÃ ng, xÃ¡c thá»±c ngÆ°á»i dÃ¹ng vÃ  phÃ¢n quyá»n admin.

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ‘¤ Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- ÄÄƒng kÃ½/ÄÄƒng nháº­p tÃ i khoáº£n
- PhÃ¢n quyá»n Admin vÃ  User
- Quáº£n lÃ½ thÃ´ng tin cÃ¡ nhÃ¢n
- Báº£o máº­t máº­t kháº©u vá»›i bcrypt

### ğŸ›ï¸ Quáº£n lÃ½ sáº£n pháº©m
- Hiá»ƒn thá»‹ danh sÃ¡ch laptop theo nhiá»u thÆ°Æ¡ng hiá»‡u (Apple, Asus, Lenovo, Dell, LG, Acer)
- PhÃ¢n loáº¡i sáº£n pháº©m theo má»¥c Ä‘Ã­ch sá»­ dá»¥ng (Gaming, Sinh viÃªn-VÄƒn phÃ²ng, Thiáº¿t káº¿ Ä‘á»“ há»a, Má»ng nháº¹, Doanh nhÃ¢n)
- Chi tiáº¿t sáº£n pháº©m vá»›i mÃ´ táº£ Ä‘áº§y Ä‘á»§
- Upload vÃ  quáº£n lÃ½ hÃ¬nh áº£nh sáº£n pháº©m

### ğŸ›’ Giá» hÃ ng
- ThÃªm sáº£n pháº©m vÃ o giá» hÃ ng
- Xem chi tiáº¿t giá» hÃ ng
- TÃ­nh tá»•ng giÃ¡ trá»‹ Ä‘Æ¡n hÃ ng

### ğŸ” Báº£o máº­t
- Session-based authentication
- Password hashing vá»›i bcrypt
- Middleware xÃ¡c thá»±c vÃ  phÃ¢n quyá»n
- CSRF protection

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

```
src/
â”œâ”€â”€ app.ts                 # Entry point chÃ­nh
â”œâ”€â”€ config/               # Cáº¥u hÃ¬nh database, client, constants
â”œâ”€â”€ controllers/          # Xá»­ lÃ½ logic business
â”‚   â”œâ”€â”€ admin/           # Controller cho admin
â”‚   â””â”€â”€ client/          # Controller cho client
â”œâ”€â”€ middleware/          # Authentication, file upload
â”œâ”€â”€ routes/              # Äá»‹nh tuyáº¿n API
â”œâ”€â”€ services/            # Logic xá»­ lÃ½ dá»¯ liá»‡u
â”œâ”€â”€ types/               # TypeScript type definitions
â”œâ”€â”€ validation/          # Schema validation vá»›i Zod
â””â”€â”€ views/               # EJS templates
    â”œâ”€â”€ admin/           # Templates cho admin
    â”œâ”€â”€ client/          # Templates cho client
    â””â”€â”€ status/          # Error pages
```

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
- **Node.js** - Runtime environment
- **Express.js** - Web framework
- **TypeScript** - Type safety
- **Prisma** - Database ORM
- **MySQL** - Database
- **Passport.js** - Authentication
- **Multer** - File upload
- **Zod** - Schema validation
- **EJS** - Template engine

### Frontend
- **Bootstrap 5** - CSS framework
- **jQuery** - JavaScript library
- **Owl Carousel** - Image carousel
- **Lightbox** - Image gallery
- **Font Awesome** - Icons

## ğŸ“¦ CÃ i Ä‘áº·t vÃ  cháº¡y á»©ng dá»¥ng

### YÃªu cáº§u há»‡ thá»‘ng
- Node.js >= 16.0.0
- MySQL >= 8.0
- npm hoáº·c yarn

### BÆ°á»›c 1: Clone repository
```bash
git clone https://github.com/tathankochi/laptop-shop.git
cd laptop-shop
```

### BÆ°á»›c 2: CÃ i Ä‘áº·t dependencies
```bash
npm install
```

### BÆ°á»›c 3: Cáº¥u hÃ¬nh database
1. Táº¡o file `.env` trong thÆ° má»¥c gá»‘c:
```env
DATABASE_URL=
PORT=
```

2. Cháº¡y migration Ä‘á»ƒ táº¡o database:
```bash
npx prisma migrate dev
```

3. Generate Prisma client:
```bash
npx prisma generate
```

### BÆ°á»›c 4: Cháº¡y á»©ng dá»¥ng
```bash
# Development mode
npm run dev

# Production mode
npm start
```

á»¨ng dá»¥ng sáº½ cháº¡y táº¡i: `http://localhost:8080`

## ğŸ‘¥ TÃ i khoáº£n máº·c Ä‘á»‹nh

Sau khi cháº¡y á»©ng dá»¥ng láº§n Ä‘áº§u, há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng táº¡o cÃ¡c tÃ i khoáº£n admin:

**Admin 1:**
- Email: `tathankochi@gmail.com`
- Password: `123456`

**Admin 2:**
- Email: `haobla@gmail.com`
- Password: `123456`

## ğŸ“Š Database Schema

### CÃ¡c báº£ng chÃ­nh:
- **users** - ThÃ´ng tin ngÆ°á»i dÃ¹ng
- **roles** - Vai trÃ² (ADMIN/USER)
- **products** - ThÃ´ng tin sáº£n pháº©m laptop
- **carts** - Giá» hÃ ng
- **cart_detail** - Chi tiáº¿t giá» hÃ ng
- **orders** - ÄÆ¡n hÃ ng
- **sessions** - Quáº£n lÃ½ session

## ğŸ¯ API Endpoints

### Client Routes
- `GET /` - Trang chá»§
- `GET /product/:id` - Chi tiáº¿t sáº£n pháº©m
- `GET /login` - Trang Ä‘Äƒng nháº­p
- `POST /login` - Xá»­ lÃ½ Ä‘Äƒng nháº­p
- `GET /register` - Trang Ä‘Äƒng kÃ½
- `POST /register` - Xá»­ lÃ½ Ä‘Äƒng kÃ½
- `POST /add-product-to-cart/:id` - ThÃªm vÃ o giá» hÃ ng
- `GET /cart` - Xem giá» hÃ ng

### Admin Routes
- `GET /admin` - Dashboard admin
- `GET /admin/product` - Quáº£n lÃ½ sáº£n pháº©m
- `GET /admin/create-product` - Táº¡o sáº£n pháº©m má»›i
- `POST /admin/create-product` - Xá»­ lÃ½ táº¡o sáº£n pháº©m
- `GET /admin/user` - Quáº£n lÃ½ ngÆ°á»i dÃ¹ng
- `GET /admin/order` - Quáº£n lÃ½ Ä‘Æ¡n hÃ ng

## ğŸ”§ Scripts

```bash
npm run dev          # Cháº¡y development mode
npm start           # Cháº¡y production mode
npm run start:debug # Cháº¡y vá»›i debug mode
```

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c chi tiáº¿t

```
public/
â”œâ”€â”€ admin/          # Static files cho admin panel
â”œâ”€â”€ client/         # Static files cho client (CSS, JS, images)
â””â”€â”€ images/         # HÃ¬nh áº£nh upload

prisma/
â”œâ”€â”€ migrations/     # Database migrations
â””â”€â”€ schema.prisma   # Database schema
```

## ğŸš€ TÃ­nh nÄƒng ná»•i báº­t

1. **Responsive Design** - Giao diá»‡n tÆ°Æ¡ng thÃ­ch má»i thiáº¿t bá»‹
2. **Real-time Updates** - Cáº­p nháº­t dá»¯ liá»‡u theo thá»i gian thá»±c
3. **File Upload** - Upload hÃ¬nh áº£nh sáº£n pháº©m vá»›i Multer
4. **Session Management** - Quáº£n lÃ½ session vá»›i Prisma Session Store
5. **Input Validation** - Validation dá»¯ liá»‡u Ä‘áº§u vÃ o vá»›i Zod
6. **Error Handling** - Xá»­ lÃ½ lá»—i chuyÃªn nghiá»‡p

